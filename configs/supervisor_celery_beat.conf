# Configuración de Supervisor para Celery Beat
# Ubicación: /etc/supervisor/conf.d/celery_beat.conf
#
# Instrucciones:
# 1. Copia este archivo: sudo cp configs/supervisor_celery_beat.conf /etc/supervisor/conf.d/celery_beat.conf
# 2. Recarga supervisor: sudo supervisorctl reread && sudo supervisorctl update
# 3. Inicia el servicio: sudo supervisorctl start celery_beat
# 4. Ver estado: sudo supervisorctl status celery_beat

[program:celery_beat]
command=/var/www/apimovil/venv/bin/celery -A apimovil beat --loglevel=info --scheduler django_celery_beat.schedulers:DatabaseScheduler
directory=/var/www/apimovil
user=apimovil
group=apimovil
autostart=true
autorestart=true
redirect_stderr=true
stdout_logfile=/var/www/apimovil/logs/celery_beat.log
stderr_logfile=/var/www/apimovil/logs/celery_beat_error.log
stdout_logfile_maxbytes=10MB
stdout_logfile_backups=5
stopwaitsecs=60
priority=999
environment=PATH="/var/www/apimovil/venv/bin",PYTHONPATH="/var/www/apimovil"
