# Configuración de Supervisor para Gunicorn
# Ubicación: /etc/supervisor/conf.d/apimovil.conf
#
# Instrucciones:
# 1. Copia este archivo: sudo cp configs/supervisor_apimovil.conf /etc/supervisor/conf.d/apimovil.conf
# 2. Recarga supervisor: sudo supervisorctl reread && sudo supervisorctl update
# 3. Inicia el servicio: sudo supervisorctl start apimovil
# 4. Ver estado: sudo supervisorctl status apimovil

[program:apimovil]
command=/var/www/apimovil/venv/bin/gunicorn apimovil.wsgi:application -c gunicorn_config.py
directory=/var/www/apimovil
user=apimovil
group=www-data
autostart=true
autorestart=true
redirect_stderr=true
stdout_logfile=/var/www/apimovil/logs/gunicorn_supervisor.log
stderr_logfile=/var/www/apimovil/logs/gunicorn_supervisor_error.log
stdout_logfile_maxbytes=50MB
stdout_logfile_backups=10
environment=PATH="/var/www/apimovil/venv/bin"
stopwaitsecs=60
stopsignal=QUIT
